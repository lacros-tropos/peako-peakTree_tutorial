# peako peakTree tutorial PrePEP

Material for the Hands-on part of the peako-peakTree introductory workshop during [PrePEP Conference, 16–21 Mar 2025, Bonn](https://indico.scc.kit.edu/event/4015/).

## Tutorial files

- [01\_requests\_cloudnet\_lv0\_data.py](01_requests_cloudnet_lv0_data.py)
    Download the raw spectra from the ACTRIS-CLU database
- [02\_lv0\_to\_netcdf.py](02_lv0_to_netcdf.py)
    Convert the rpg binary file with spectra to netcdf for peako
- [03\_crop\_spectra\_files.ipynb](03_crop_spectra_files.ipynb)
    Crop the spectra file to make it a bit more memory efficient
- [04\_marking\_peaks\_Hyytiälä.py](04_marking_peaks_Hyytiälä.py)
    Mark the peaks using the Qt interface
- [04\_marking\_peaks\_Hyytiälä\_jupyter.ipynb](04_marking_peaks_Hyytiälä_jupyter.ipynb)
    Mark the peaks inside a jupyter notebook
- [05\_training\_hyytiälä\_c1.py](05_training_hyytiälä_c1.py)
    Train the peak finding parameters using the marked peaks
- [05\_training\_hyytiälä\_chirp2\_jupyter.ipynb](05_training_hyytiälä_chirp2_jupyter.ipynb)
    Train the peak finding parameters using the marked peaks (jupyter notebook version)
- [06\_example\_application\_standalone.ipynb](06_example_application_standalone.ipynb)
    
- [07\_peak\_finding\_tree\_generation.ipynb](07_peak_finding_tree_generation.ipynb)
    use the peak finding parameters to generate the binary tree of subpeaks for a single spectrum
- [08\_convert\_file.ipynb](08_convert_file.ipynb)
    process a time-height slice of spectra and store them into a netcdf file
- [09\_analyze\_output.ipynb](09_analyze_output.ipynb)
    example for analyzing the resulting trees
- [10\_analyze\_output\_advanced.ipynb](10_analyze_output_advanced.ipynb)
    explore unsupervised learning to find particle populations
- [11\_pamtra\_multipeak\_example.ipynb](10_pamtra_multipeak_example.ipynb)
    Additional Material: Pamtra simulation for multi peaked spectra
- [instrument\_config.toml](instrument_config.toml)
    peak finding parameters and additional configuration (polarization state of a radar, etc)
- [output\_meta.toml](output_meta.toml)
    describe some meta data the will be stored into the peakTree netcdfs
- [plots/](plots)
    store the plots generated by the notebooks
 

## Code repositories

- [github ti-vo/pyPEAKO](https://github.com/ti-vo/pyPEAKO/tree/master)
- [github martin-rdz/peakTree](https://github.com/martin-rdz/peakTree)
- [github lacros-tropos/larda](https://github.com/lacros-tropos/larda)
- [github igmk/pamtra](https://github.com/igmk/pamtra)
 
## Reading material

- Kalesse, H., T. Vogl, C. Paduraru,  and E. Luke. 2019. *Development and Validation of a Supervised Machine Learning Radar Doppler Spectra Peak Finding Algorithm*. Atmospheric Measurement Techniques Discussions 2019:1–37. https://doi.org/10.5194/amt-2019-48.
- Radenz, M., J. Bühl, P. Seifert, H. Griesche,  and R. Engelmann. 2019. *peakTree: A Framework for Structure-Preserving Radar Doppler Spectra Analysis*. Atmospheric Measurement Techniques 12 (9): 4813–28. https://doi.org/10.5194/amt-12-4813-2019.
- Vogl, T., M. Radenz, F. Ramelli, R. Gierens,  and H. Kalesse-Los. 2024. *PEAKO and peakTree: Tools for Detecting and Interpreting Peaks in Cloud Radar Doppler Spectra – Capabilities and Limitations*. Atmospheric Measurement Techniques 17 (22): 6547–68. https://doi.org/10.5194/amt-17-6547-2024.

- Mech, M., M. Maahn, S. Kneifel, D. Ori, E. Orlandi, P. Kollias, V. Schemann,  and S. Crewell. 2020. “PAMTRA 1.0: The Passive and Active Microwave Radiative TRAnsfer Tool for Simulating Radiometer and Radar Measurements of the Cloudy Atmosphere.” Geoscientific Model Development 13 (9): 4229–51. https://doi.org/10.5194/gmd-13-4229-2020.


## Authors
ti-vo and martin-rdz

## LICENSE
CC-BY 4.0


